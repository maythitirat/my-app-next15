# ЁЯОЙ Todo List + Gmail SMTP Email Notification Integration

р╕гр╕░р╕Ър╕Ъ Todo List р╕Чр╕╡р╣Ир╕бр╕╡р╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╕Ьр╣Ир╕▓р╕Щ Gmail email р╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Бр╕ер╣Йр╕з!

## тЬи р╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤

### ЁЯУЛ Todo List
- тЬЕ р╣Ар╕Юр╕┤р╣Ир╕б/р╕ер╕Ъ/р╣Бр╕Бр╣Йр╣Др╕В/р╕Чр╕│р╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕лр╕бр╕▓р╕вр╣Ар╕кр╕гр╣Зр╕Ир╕кр╕┤р╣Йр╕Щ
- ЁЯП╖я╕П р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╕Зр╕▓р╕Щ (р╕Зр╕▓р╕Щр╕Чр╕▒р╣Ир╕зр╣Др╕Ы, р╕Зр╕▓р╕Щр╕Ър╣Йр╕▓р╕Щ, р╕Бр╕▓р╕гр╣Ар╕гр╕╡р╕вр╕Щ, р╕пр╕ер╕п)
- тЪб р╕гр╕░р╕Фр╕▒р╕Ър╕Др╕зр╕▓р╕бр╕кр╕│р╕Др╕▒р╕Н (р╕кр╕╣р╕З, р╕Ыр╕▓р╕Щр╕Бр╕ер╕▓р╕З, р╕Хр╣Ир╕│)
- ЁЯУЕ р╕Бр╕│р╕лр╕Щр╕Фр╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╣Ар╕кр╕гр╣Зр╕И
- ЁЯФН р╕Бр╕гр╕нр╕З/р╕Ир╕▒р╕Фр╣Ар╕гр╕╡р╕вр╕Зр╕Зр╕▓р╕Щ
- ЁЯТ╛ р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕Щ localStorage

### я┐╜ Gmail SMTP Email Notification (р╕Яр╕гр╕╡!)
- я┐╜ р╕кр╣Ир╕Зр╕нр╕╡р╣Ар╕бр╕ер╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╣Др╕Ыр╕Чр╕╡р╣И Gmail р╣Ар╕бр╕╖р╣Ир╕нр╣Ар╕Юр╕┤р╣Ир╕бр╕Зр╕▓р╕Щр╣Гр╕лр╕бр╣И
- ЁЯОи р╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╕нр╕╡р╣Ар╕бр╕е HTML р╕кр╕зр╕вр╕Зр╕▓р╕б р╕Юр╕гр╣Йр╕нр╕бр╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕Зр╕▓р╕Щр╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щ
- ЁЯУ▒ р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╣Гр╕Щ mobile
- ЁЯЖУ р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Яр╕гр╕╡ 100% (р╕Ьр╣Ир╕▓р╕Щ Gmail SMTP)
- тЪЩя╕П р╕лр╕Щр╣Йр╕▓р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Бр╕ер╕░р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н
- ЁЯУК 500 р╕нр╕╡р╣Ар╕бр╕ер╕Хр╣Ир╕нр╕зр╕▒р╕Щр╕кр╕│р╕лр╕гр╕▒р╕Ъ Gmail р╕Яр╕гр╕╡

### ЁЯФР Authentication
- ЁЯФС NextAuth.js р╕кр╕│р╕лр╕гр╕▒р╕Ъ login/logout
- ЁЯСд Mock users р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Чр╕Фр╕кр╕нр╕Ъ
- ЁЯФТ Protected routes р╕Фр╣Йр╕зр╕в middleware

## ЁЯЪА р╕зр╕┤р╕Шр╕╡р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### 1. р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ
```bash
npm run dev
```

### 2. р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ
- р╣Др╕Ыр╕Чр╕╡р╣И http://localhost:3000/authentication
- р╣Гр╕Кр╣Й demo credentials:
  - Admin: admin@example.com / password
  - User: user@example.com / password
  - Test: test@test.com / test

### 3. р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ Todo List
- р╣Др╕Ыр╕Чр╕╡р╣И http://localhost:3000/todos
- р╣Ар╕Юр╕┤р╣Ир╕бр╕Зр╕▓р╕Щр╣Гр╕лр╕бр╣Ир╣Др╕Фр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡ (р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╣Гр╕Щ localStorage)

### 4. р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ Gmail SMTP (р╣Ар╕Юр╕╖р╣Ир╕нр╕гр╕▒р╕Ър╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щ)
- р╣Др╕Ыр╕Чр╕╡р╣И http://localhost:3000/line-notify
- р╕Чр╕│р╕Хр╕▓р╕бр╕Др╕╣р╣Ир╕бр╕╖р╕нр╣Гр╕Щр╕лр╕Щр╣Йр╕▓р╕Щр╕▒р╣Йр╕Щ:
  1. р╣Ар╕Ыр╕┤р╕Фр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ 2-Step Verification р╣Гр╕Щ Google Account
  2. р╕кр╕гр╣Йр╕▓р╕З App Password р╕Чр╕╡р╣И https://myaccount.google.com/apppasswords
  3. Copy App Password (16 р╕Хр╕▒р╕зр╕нр╕▒р╕Бр╕йр╕г) р╣Гр╕кр╣Ир╣Гр╕Щр╣Др╕Яр╕ер╣М .env.local:
     ```
     GMAIL_EMAIL=your_email@gmail.com
     GMAIL_APP_PASSWORD=your_16_character_app_password
     NOTIFICATION_EMAIL=recipient@gmail.com
     ```
  4. Restart server р╣Бр╕ер╕░р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н

## ЁЯУБ р╣Др╕Яр╕ер╣Мр╕кр╕│р╕Др╕▒р╕Н

### Email Notification System
- `/src/app/api/line-notify/route.ts` - API endpoint р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╣Ир╕Зр╕нр╕╡р╣Ар╕бр╕е (р╣Гр╕Кр╣Й nodemailer)
- `/src/app/_utils/lineNotify.ts` - Utility functions р╣Бр╕ер╕░ email formatting
- `/src/app/line-notify/page.tsx` - р╕лр╕Щр╣Йр╕▓р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Бр╕ер╕░р╕Чр╕Фр╕кр╕нр╕Ъ Gmail SMTP

### Todo System  
- `/src/app/todos/page.tsx` - р╕лр╕Щр╣Йр╕▓р╕лр╕ер╕▒р╕Б Todo List
- `/src/app/components/TodoForm.tsx` - Form р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕Юр╕┤р╣Ир╕бр╕Зр╕▓р╕Щр╣Гр╕лр╕бр╣И
- `/src/app/components/TodoList.tsx` - р╣Бр╕кр╕Фр╕Зр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Зр╕▓р╕Щ
- `/src/app/components/TodoItem.tsx` - р╣Бр╕кр╕Фр╕Зр╕Зр╕▓р╕Щр╣Бр╕Хр╣Ир╕ер╕░р╕гр╕▓р╕вр╕Бр╕▓р╕г
- `/src/app/_logic/TodoContext.tsx` - State management р╕кр╕│р╕лр╕гр╕▒р╕Ъ todos

### Auth System
- `/auth.ts` - NextAuth configuration
- `/middleware.ts` - Route protection
- `/src/app/authentication/page.tsx` - р╕лр╕Щр╣Йр╕▓ login

## ЁЯФз Configuration Files
- `.env.local` - Environment variables
- `GMAIL_SMTP_SETUP.md` - р╕Др╕╣р╣Ир╕бр╕╖р╕нр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ Gmail SMTP
- `OAUTH_SETUP.md` - р╕Др╕╣р╣Ир╕бр╕╖р╕нр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ OAuth (Google/GitHub)

## ЁЯОп р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╕Вр╕нр╕З Gmail SMTP Notification

р╣Ар╕бр╕╖р╣Ир╕нр╣Ар╕Юр╕┤р╣Ир╕б todo р╣Гр╕лр╕бр╣И:
1. TodoForm р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Др╕Ыр╕Чр╕╡р╣И TodoContext
2. TodoContext р╣Ар╕гр╕╡р╕вр╕Бр╣Гр╕Кр╣Й `addTodo()` function
3. р╕гр╕░р╕Ър╕Ър╕кр╕гр╣Йр╕▓р╕З HTML email template р╣Бр╕Ър╕Ър╕кр╕зр╕вр╕Зр╕▓р╕б
4. р╕кр╣Ир╕Зр╕нр╕╡р╣Ар╕бр╕ер╕Ьр╣Ир╕▓р╕Щ Gmail SMTP (async, р╣Др╕бр╣И blocking UI)
5. User р╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕нр╕╡р╣Ар╕бр╕ер╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╣Гр╕Щ Gmail

## я┐╜ р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З Email Notification

**Subject:** ЁЯУЭ р╕Зр╕▓р╕Щр╣Гр╕лр╕бр╣Ир╣Ар╕Юр╕┤р╣Ир╕бр╣Бр╕ер╣Йр╕з - Todo List

**HTML Email Content:**
```
ЁЯУЭ р╕Зр╕▓р╕Щр╣Гр╕лр╕бр╣Ир╣Ар╕Юр╕┤р╣Ир╕бр╣Бр╕ер╣Йр╕з!

я┐╜ р╕Чр╕│р╕Бр╕▓р╕гр╕Ър╣Йр╕▓р╕Щр╕Др╕Ур╕┤р╕Хр╕ир╕▓р╕кр╕Хр╕гр╣М
ЁЯУД р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕в: р╣Бр╕Ър╕Ър╕Эр╕╢р╕Бр╕лр╕▒р╕Фр╕Ър╕Чр╕Чр╕╡р╣И 5 р╕лр╕Щр╣Йр╕▓ 25-30
ЁЯУВ р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И: р╕Бр╕▓р╕гр╣Ар╕гр╕╡р╕вр╕Щ
тЪб р╕Др╕зр╕▓р╕бр╕кр╕│р╕Др╕▒р╕Н: ЁЯЯб р╕Ыр╕▓р╕Щр╕Бр╕ер╕▓р╕З
ЁЯУЕ р╕Бр╕│р╕лр╕Щр╕Фр╣Ар╕кр╕гр╣Зр╕И: 25 р╕Шр╕▒р╕Щр╕зр╕▓р╕Др╕б 2567
ЁЯХР р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕бр╕╖р╣Ир╕н: 29 р╕бр╕┤р╕Цр╕╕р╕Щр╕▓р╕вр╕Щ 2568, 14:30:00

тЬи р╕кр╕╣р╣Йр╣Ж р╕Щр╕░р╕Др╕гр╕▒р╕Ъ!
```

## ЁЯФН Troubleshooting

- р╣Др╕бр╣Ир╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕нр╕╡р╣Ар╕бр╕е тЖТ р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Spam folder р╣Бр╕ер╕░ Gmail credentials р╣Гр╕Щ .env.local
- Error "Invalid login" тЖТ App Password р╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З р╕ер╕нр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕лр╕бр╣И
- Error "Less secure app" тЖТ р╕Хр╣Йр╕нр╕Зр╣Гр╕Кр╣Й App Password р╣Др╕бр╣Ир╣Гр╕Кр╣Ир╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ Gmail р╕Ыр╕Бр╕Хр╕┤
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ console logs р╣Гр╕Щ browser р╣Бр╕ер╕░ server

## ЁЯОК р╕кр╕│р╣Ар╕гр╣Зр╕Ир╣Бр╕ер╣Йр╕з!

р╕Хр╕нр╕Щр╕Щр╕╡р╣Йр╕Др╕╕р╕Ур╕бр╕╡ Todo List р╕Чр╕╡р╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕кр╣Ир╕Зр╕нр╕╡р╣Ар╕бр╕ер╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╣Др╕Ыр╕Чр╕╡р╣И Gmail р╣Др╕Фр╣Йр╣Бр╕ер╣Йр╕з! 
р╕ер╕нр╕Зр╣Ар╕Юр╕┤р╣Ир╕бр╕Зр╕▓р╕Щр╣Гр╕лр╕бр╣Ир╕Фр╕╣р╣Бр╕ер╣Йр╕зр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Gmail р╕Вр╕нр╕Зр╕Др╕╕р╕У я┐╜тЬи

## ЁЯТб р╕Вр╣Йр╕нр╕Фр╕╡р╕Вр╕нр╕З Gmail SMTP
- тЬЕ р╕Яр╕гр╕╡ 100% р╣Бр╕ер╕░р╕бр╕▒р╣Ир╕Щр╕Др╕З
- тЬЕ р╕гр╕нр╕Зр╕гр╕▒р╕Ъ HTML email р╕кр╕зр╕вр╕Зр╕▓р╕б
- тЬЕ р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕Юр╕╢р╣Ир╕Зр╕Юр╕▓ third-party service р╕Чр╕╡р╣Ир╕нр╕▓р╕Ир╕Ыр╕┤р╕Фр╕Хр╕▒р╕з
- тЬЕ р╕Чр╕╕р╕Бр╕Др╕Щр╕бр╕╡ Gmail account р╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕з
- тЬЕ р╕бр╕╡р╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕вр╕кр╕╣р╕З (App Password)
